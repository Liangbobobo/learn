# TCP/IP中的数据链路层和网络层协议
TCP/IP协议对应osi参考模型的数据链路层和网络层  
当计算机要往不在其本地子网中的目的地发送一个数据包时，先把该数据包发送给它的默认网关（default gateway），然后该默认网关就把该数据包转发给真正的目的地，知道如何到达目的地的另一台路由器等等。   
通常默认网关就是一台路由器，或一台配置为类似路由器的服务器。  
## 4.1 数据链路层协议
数据链路层完成几个关键的任务，最重要的两项任务如下：  
1. 管理对所有网络介质（称为媒体访问控制MAC）的访问；  
2. 创建成MAC层地址之间的点到点链路，以便支持数据传输，称为逻辑链路控制LLC。  
这两个重要的功能和子协议，是IEEE在设计802系列网络规范时将数据链路层划分为MAC子层和LLC子层的原因。也是数据链路层支持数据从特定发送方传输到特定接收方的理由。这种传输称为点到点数据传输，它将数据从代表传输端点的特定MAC层地址运送到不同物理网段或TCP/IP子网上代表接收端点的另一特定MAC层地址。  
这种点到点的技术同样也能用于跨越广域网（wan）的数据传输（如模拟电话线路）、数字连接或X.25，这也是为什么有些TCP/IP数据链路协议有时候称为wan协议的原因。

data encapsulated数据封装：用于打包跨wan链路传输的数据包有效载荷，这些有效载荷与用于LAN连接的不同，并且包含了运行在数据链路层的专用协议，这些专用协议是：  
1. 点到点协议，PPP  
2. 高层数据链路控制  
3. 同步化的数据链路控制  
4. 通常情况下，需要对X.25，帧中继、异步传输模式（ATM）、连接进行特别处理，主要是确保为相关通信接口分配IP地址，并配置为传输TCP/IP流量，然而一旦建立，这些连接将固定使用PPP


## 4.2 点到点协议
PPP是一个通用协议，提供了类似于LAN封装的WAN数据链路封装服务。   
因此，PPP不仅提供了帧分界，而且提供了协议标识和位级完整性检查服务（点到点链路上不需要寻址，这种链路中只有两方参与通信）。